<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="theme_default">
<head>
  <meta charset="utf-8" />
  <title>Music Demo Package</title>
  
  <link rel="icon" type="image/png" href="images/favicon.png" />
  
  <style type="text/css" media="screen, projection">
      
      @import url('css/theme.dark.css');
      
      html {
          font-size: 100.01%;
      }
      body{
          font-size: 100% !important;
          padding: 1.5em 0 0 0; margin: 0;
      }
      
      /* typography */
      
      .test {
          font-size: 1em;
          font-family: Helvetica, Arial, sans-serif;
          line-height: 1.25;
          color: #484848;
          clear: left;
      }
      
      /* Fonts */
      
      pre, code { font-family: 'Courier', 'Andale Mono', 'Lucida Console', monospace; }
      
      /* Block elements */
      
      h1,
      h2,
      h3,
      h4,
      h5,
      h6                { font-weight: normal; margin: 0; word-spacing: -0.0833em; }
      h4,
      h5,
      h6                { font-weight: bold; }
      
      h1                { font-size: 3em;                           margin-top: 0.4167em;   margin-bottom: 0.4167em; }
      h2                { font-size: 2.5em;   line-height: 1.5;     margin-top: 0.5em;      margin-bottom: 0.5em; }
      h3                { font-size: 2em;     line-height: 1.25;    margin-top: 0.625em;    margin-bottom: 0.625em; }
      h4                { font-size: 1.2em;   line-height: 1.0417;  margin-top: 1.0417em; }
      h5                { font-size: 1.1em;   line-height: 1.1364;  margin-top: 1.1364em; }
      h6                { font-size: 1em;                           margin-top: 1.25em; }
      
      h1:first-child,
      h2:first-child,
      h3:first-child,
      h4:first-child,
      h5:first-child,
      h6:first-child    { margin-top: 0; }
      
      .test {
        margin: 0 0 1em 0;
        padding: 0 32px;
      }
      
      .swatch {
        width: 64px; height: 64px;
        float: left;
        overflow: hidden;
        -webkit-box-sizing: border-box;
        -moz-box-sizing:    border-box;
        box-sizing:         border-box;
      }
      
      .swatch>span {
        font-family: Arial;
        font-size: 639px;
        line-height: 0;
        position: relative;
        top: -158px;
        left: -58px;
        background-color: #666666;
      }
      
      .color-swatch,
      .bg-swatch {
        -webkit-box-shadow: 0 0 40px hsla(208, 6%, 25%, 0.6);
        -moz-box-shadow:    0 0 40px hsla(208, 6%, 25%, 0.6);
        box-shadow:         0 0 40px hsla(208, 6%, 25%, 0.6);
      }
      
      .border-swatch {
        width: 54px; height: 54px;
        margin-right: 8px;
        margin-bottom: 8px;
        background: white;
      }
      
      img {
        width: 64px;
        height: 64px;
      }
      
      a:hover, a:focus {
        text-decoration: underline;
      }
      a {
        color: #666666;
        text-decoration: none;
        outline: none;
      }
  </style>
</head>

<body>

  <div class="test clear">
    <h3>Colors</h3>
    <a href="#package=color_1" class="swatch color-swatch theme_color_1 webdoc_message"><span>.</span></a>
    <a href="#package=color_2" class="swatch color-swatch theme_color_2 webdoc_message"><span>.</span></a>
    <a href="#package=color_3" class="swatch color-swatch theme_color_3 webdoc_message"><span>.</span></a>
    <a href="#package=color_4" class="swatch color-swatch theme_color_4 webdoc_message"><span>.</span></a>
    <a href="#package=color_5" class="swatch color-swatch theme_color_5 webdoc_message"><span>.</span></a>
    <a href="#package=color_6" class="swatch color-swatch theme_color_6 webdoc_message"><span>.</span></a>
    <a href="#package=color_7" class="swatch color-swatch theme_color_7 webdoc_message"><span>.</span></a>
    <a href="#package=color_8" class="swatch color-swatch theme_color_8 webdoc_message"><span>.</span></a>
    <a href="#package=color_9" class="swatch color-swatch theme_color_9 webdoc_message"><span>.</span></a>
    <a href="#package=color_10" class="swatch color-swatch theme_color_10 webdoc_message"><span>.</span></a>
    <a href="#package=color_11" class="swatch color-swatch theme_color_11 webdoc_message"><span>.</span></a>
    <a href="#package=color_12" class="swatch color-swatch theme_color_12 webdoc_message"><span>.</span></a>
    <a href="#package=color_13" class="swatch color-swatch theme_color_13 webdoc_message"><span>.</span></a>
    <a href="#package=color_14" class="swatch color-swatch theme_color_14 webdoc_message"><span>.</span></a>
    
  </div>
  <div class="test">
    <a href="#" class="">remove</a>
  </div>
  <div class="test clear">
    <h3>Backgrounds</h3>
    <a href="#package=item_background_1"
      class="swatch bg-swatch theme_background_1 webdoc_message"></a>
    <a href="#package=item_background_2"
      class="swatch bg-swatch theme_background_2 webdoc_message"></a>
    <a href="#package=item_background_3"                               
      class="swatch bg-swatch theme_background_3 webdoc_message"></a>  
    <a href="#package=item_background_4"                               
      class="swatch bg-swatch theme_background_4 webdoc_message"></a>  
    <a href="#package=item_background_5"                               
      class="swatch bg-swatch theme_background_5 webdoc_message"></a>  
    <a href="#package=item_background_6"                               
      class="swatch bg-swatch theme_background_6 webdoc_message"></a>  
    <a href="#package=item_background_7"                               
      class="swatch bg-swatch theme_background_7 webdoc_message"></a>  
    <a href="#package=item_background_8"                               
      class="swatch bg-swatch theme_background_8 webdoc_message"></a>  
  </div>
  <div class="test">
    <a href="#" class="">remove</a>
  </div>
  <div class="test">
    <h3>Borders</h3>
    <a href="#package=border_1" 
      class="swatch border-swatch theme_border_1 webdoc_message"></a>
    <a href="#package=border_2" 
      class="swatch border-swatch theme_border_2 webdoc_message"></a>
    <a href="#package=border_3" 
      class="swatch border-swatch theme_border_3 webdoc_message"></a>
    <a href="#package=border_4"                                        
      class="swatch border-swatch theme_border_4 webdoc_message"></a>
    <a href="#package=border_5"                                        
      class="swatch border-swatch theme_border_5 webdoc_message"></a>
    <a href="#package=border_6"                                        
      class="swatch border-swatch theme_border_6 webdoc_message"></a>
    <a href="#package=border_7"                                        
      class="swatch border-swatch theme_border_7 webdoc_message"></a>  
  </div>
  <div class="test clear">
    <h3>Page Backgrounds</h3>
    <a href="#package=page_background_1"
      class="swatch bg-swatch theme_background_1 webdoc_message"></a>
    <!-- <a href="#package=page_background_2"
      class="swatch bg-swatch theme_background_2 webdoc_message"></a> this background isn't working !!-->
    <a href="#package=page_background_3"
      class="swatch bg-swatch theme_background_3 webdoc_message"></a>
    <a href="#package=page_background_4"
      class="swatch bg-swatch theme_background_4 webdoc_message"></a>
    <a href="#package=page_background_5"
      class="swatch bg-swatch theme_background_5 webdoc_message"></a>
    <a href="#package=page_background_6"
      class="swatch bg-swatch theme_background_6 webdoc_message"></a>
    <a href="#package=page_background_7"
      class="swatch bg-swatch theme_background_7 webdoc_message"></a>
    <a href="#package=page_background_8"
     class="swatch bg-swatch theme_background_8 webdoc_message"></a>
  </div>
  
  <div class="test clear">
    <h3>Images</h3>
    <a href='#images/birdy_1.jpg' class='image_draggable'>
      <img src='images/birdy_1_thumb.jpg' />
    </a>
    <a href='#images/birdy_2.jpg' class='image_draggable'>
      <img src='images/birdy_2_thumb.jpg' />
    </a>
    <a href='#images/birdy_3.jpg' class='image_draggable'>
      <img src='images/birdy_3_thumb.jpg' />
    </a>
    <a href='#images/birdy_4.jpg' class='image_draggable'>
      <img src='images/birdy_4_thumb.jpg' />
    </a>
    <a href='#images/birdy_5.jpg' class='image_draggable'>
      <img src='images/birdy_5_thumb.jpg' />
    </a>
  </div>
  
  <div class="test clear">
    <h3>Stickies</h3>
    <img src='stickies/cassette1.gif' />
    <img src='stickies/platines1.gif' />
    <img src='stickies/platines6.gif' />
    <img src='stickies/platines7.gif' />
    <img src='stickies/platines8.gif' />
    <img src='stickies/sono1.gif' />
  </div>
  
  <div class="test clear">
    <h3>Videos</h3>
    <a href='http://www.youtube.com/watch?v=qMYMC6atRoE' class='video_draggable'>
      <img src='http://i2.ytimg.com/vi/qMYMC6atRoE/default.jpg' alt='Abbesses'/>
    </a>
    
    <a href='http://www.youtube.com/watch?v=P4wQKIRwYWo' class='video_draggable'>
      <img src='http://i1.ytimg.com/vi/P4wQKIRwYWo/default.jpg' alt='Violons' />
    </a>
    
    <a href='http://www.youtube.com/watch?v=wImd1pGNXSE' class='video_draggable'>
      <img src='http://i4.ytimg.com/vi/wImd1pGNXSE/default.jpg' alt='Poppy'/>
    </a>
    
  </div>
  
  <div class="test">
    <a href="#" class="">remove</a>
  </div>
  
  <!--script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script-->
  <script src="js/jquery-1.4.2.js"></script>
  <script src="js/jquery-json.js"></script>
  <script type="text/javascript">
    window.onload = function() {
      var webdoc = window.parent;
      var backgrounds = [
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( #6b6b6b ), to( #252525 ));background-image: -moz-linear-gradient( -90deg, #6b6b6b, #252525 );background-image:linear-gradient( -90deg, #6b6b6b, #252525 );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( #66695c ), to( #272a1d ));background-image: -moz-linear-gradient( -90deg, #66695c, #272a1d );background-image:linear-gradient( -90deg, #66695c, #272a1d );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( hsl(49, 8%, 42%) ), to( hsl(49, 8%, 15%) ));background-image: -moz-linear-gradient( -90deg, hsl(49, 8%, 42%), hsl(49, 8%, 15%) ); background-image:linear-gradient( -90deg, hsl(49, 8%, 42%), hsl(49, 8%, 15%) );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( hsl(20, 8%, 42%) ), to( hsl(20, 8%, 15%) ));background-image: -moz-linear-gradient( -90deg, hsl(20, 8%, 42%), hsl(20, 8%, 15%) );background-image:linear-gradient( -90deg, hsl(20, 8%, 42%), hsl(20, 8%, 15%) );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( hsl(341, 8%, 42%) ), to( hsl(341, 8%, 15%) ));background-image: -moz-linear-gradient( -90deg, hsl(341, 8%, 42%), hsl(341, 8%, 15%) );background-image: linear-gradient( -90deg, hsl(341, 8%, 42%), hsl(341, 8%, 15%) );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( hsl(208, 8%, 42%) ), to( hsl(208, 8%, 15%) ));background-image: -moz-linear-gradient( -90deg, hsl(208, 8%, 42%), hsl(208, 8%, 15%) );background-image: linear-gradient( -90deg, hsl(208, 8%, 42%), hsl(208, 8%, 15%) );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( hsl(171, 8%, 42%) ), to( hsl(171, 8%, 15%) ));background-image: -moz-linear-gradient( -90deg, hsl(171, 8%, 42%), hsl(171, 8%, 15%) );background-image: linear-gradient( -90deg, hsl(171, 8%, 42%), hsl(171, 8%, 15%) );',
        'background-color: black;'
      ];
      
      var package = {
        color_1 :         { target : 'item',
                            scope: 'color', 
                            style: 'color:black;'},
        color_2:           { target: 'item',
                             scope: 'color',
                             style: 'color: #92b322;'}, 
        color_3:           { target: 'item',                                
                             scope: 'color',                                
                             style: 'color: #ccf245;'},                     
        color_4:           { target: 'item',                                
                             scope: 'color',                                
                             style: 'color: #b39322;'},                     
        color_5:           { target: 'item',                                
                             scope: 'color',                                
                             style: 'color: #ffd200;'},                     
        color_6:           { target: 'item',                                
                             scope: 'color',                                
                             style: 'color: #ff5400;'},                     
        color_7:           { target: 'item',                                
                             scope: 'color',                                
                             style: 'color: #c33200;'},                     
        color_8:           { target: 'item',                               
                              scope: 'color',                               
                              style: 'color: #f20951;'},                    
        color_9:           { target: 'item',                              
                               scope: 'color',                              
                               style: 'color: #b32248;'},                   
        color_10:           { target: 'item',                                
                             scope: 'color',                                
                             style: 'color: #22a4b3;'},                     
        color_11:           { target: 'item',                                 
                            scope: 'color',                                 
                            style: 'color: #00dce4;'},                      
        color_12:           { target: 'item',                                 
                             scope: 'color',                                 
                             style: 'color: #009982;'},
        color_13:           { target: 'item',                                 
                             scope: 'color',                                 
                             style: 'color: #43e4cb;'},                     
        color_14:          { target : 'item',
                             scope: 'color', 
                             style: 'color:white;'},
        
                                
        item_background_1 :   { target: 'item',
                                scope: 'background',
                                style: backgrounds[0] },
        item_background_2 :   { target: 'item',
                                 scope: 'background',
                                 style: backgrounds[1] },
        item_background_3 :   { target: 'item',
                                  scope: 'background',
                                  style: backgrounds[2] },
        item_background_4 :   { target: 'item',
                                 scope: 'background',
                                 style: backgrounds[3] },
        item_background_5 :   { target: 'item',
                                 scope: 'background',
                                 style: backgrounds[4] },
        item_background_6 :   { target: 'item',
                                 scope: 'background',
                                 style: backgrounds[5] },
        item_background_7 :   { target: 'item',
                                 scope: 'background',
                                 style: backgrounds[6] },
        item_background_8 :   { target: 'item',
                                 scope: 'background',
                                 style: backgrounds[7] },
                                 
        border_1:             {  target: 'item', 
                                 scope: 'border',
                                 style: '-webkit-border-radius: 0.6em;-moz-border-radius:0.6em;border-radius:0.6em;border-color: hsla(208, 6%, 88%, 0.6);border-width: 3px;border-style: solid;-webkit-box-shadow: 0 0 32px hsla(208, 6%, 25%, 0.6);-moz-box-shadow:    0 0 32px hsla(208, 6%, 88%, 0.6);box-shadow:         0 0 32px hsla(208, 6%, 88%, 0.6);padding: 1em;'
                              },
        border_2:             { target : 'item',
                                scope: 'border',
                                style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color: hsl(73, 66%, 33%);-webkit-box-shadow: 0 0 40px hsl(73, 66%, 33%);-moz-box-shadow: 0 0 40px hsl(73, 66%, 33%);box-shadow: 0 0 40px hsl(73, 66%, 33%);'
                              },
        border_3: { target: 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:hsl(49, 66%, 33%);-webkit-box-shadow: 0 0 40px hsl(49, 66%, 33%);-moz-box-shadow:    0 0 40px hsl(49, 66%, 33%);box-shadow: 0 0 40px hsl(49, 66%, 33%);'},
        border_4: { target: 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:hsl(20, 66%, 33%);-webkit-box-shadow: 0 0 40px hsl(20, 66%, 33%);-moz-box-shadow: 0 0 40px hsl(20, 66%, 33%);box-shadow:0 0 40px hsl(20, 66%, 33%);'},
        border_5: { target: 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:hsl(341, 66%, 33%);-webkit-box-shadow: 0 0 40px hsl(341, 66%, 33%);-moz-box-shadow: 0 0 40px hsl(341, 66%, 33%);box-shadow:0 0 40px hsl(341, 66%, 33%);'},
        border_6: { target: 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:hsl(182, 66%, 33%);-webkit-box-shadow: 0 0 40px hsl(182, 66%, 33%);-moz-box-shadow:    0 0 40px hsl(182, 66%, 33%);box-shadow:0 0 40px hsl(182, 66%, 33%);'},
        border_7: { target: 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:hsl(171, 66%, 33%);-webkit-box-shadow: 0 0 40px hsl(171, 66%, 33%);-moz-box-shadow:    0 0 40px hsl(171, 66%, 33%);box-shadow:0 0 40px hsl(171, 66%, 33%);'},
        
        page_background_1:    { target: 'page',
                                scope: 'background',
                                style: backgrounds[0] },
        page_background_2:    { target: 'page',
                                scope: 'background',
                                style: backgrounds[1] },
        page_background_3:    { target: 'page',                                  
                                scope: 'background',                            
                                style: backgrounds[2] },                        
        page_background_4:    { target: 'page',                   
                                scope: 'background',                  
                                style: backgrounds[3] },                        
        page_background_5:    { target: 'page',
                                scope: 'background',                            
                                style: backgrounds[4] },                        
        page_background_6:    { target: 'page',
                                scope: 'background',                            
                                style: backgrounds[5] },                        
        page_background_7:    { target: 'page',
                                scope: 'background',                            
                                style: backgrounds[6] },                        
        page_background_8:    { target: 'page',
                                scope: 'background',
                                style: backgrounds[7] }
      };

      var style = '';
      var package_select = '';
      
      var links = document.getElementsByTagName("a");
      for(i=0;i<links.length;i++) {
        if( /webdoc_message/.test( links[i].getAttribute('class') ) ) {
          links[i].onclick = function(event) {
            package_select = event.currentTarget.getAttribute('href');
            package_select = package_select.slice(9, package_select.length);
            webdoc.postMessage(buildStringMessage(package[package_select]), '*');
          };

        }
      }
      
      function buildStringMessage(style_object){
        var style_string = '#';
        //target, item or page
        if(style_object.target == 'item'){
          style_string += 'set_item_style?';
        }
        else{
          style_string += 'set_page_style?'
        }
        //scope
        style_string += 'scope=' + style_object.scope + '&';
        //style
        style_string += 'style=' + encodeURI(style_object.style);
        return style_string;
      }
      
      $('.video_draggable').bind('click', function(event){
        event.preventDefault();
      });
      
      $('.image_draggable').bind('dragstart', imageDragStart);
      
      function imageDragStart(event) {      
        var draggingLink = $(event.target);
        var imageUrl = draggingLink.attr('href');
        imageUrl = imageUrl.slice(1, imageUrl.length);
        
        var dt = event.originalEvent.dataTransfer;
        dt.setData("application/wd-image", $.toJSON({url:imageUrl,id:null}));
      }
    };
  </script>

</body>