<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="theme_default">
<head>
  <meta charset="utf-8" />
  <title>Webdoc Default Theme</title>
  
  <link rel="icon" type="image/png" href="images/favicon.png" />
  
  <style type="text/css" media="screen, projection">
      
      @import url('css/theme.light.css');
      
      html {
          font-size: 100.01%;
      }
      body{
          font-size: 100% !important;
          padding: 1.5em 0 0 0; margin: 0;
      }
      
      /* typography */
      
      .test {
          font-size: 1em;
          font-family: Helvetica, Arial, sans-serif;
          line-height: 1.25;
          color: #484848;
          clear: left;
      }
      
      /* Fonts */
      
      pre, code { font-family: 'Courier', 'Andale Mono', 'Lucida Console', monospace; }
      
      /* Block elements */
      
      h1,
      h2,
      h3,
      h4,
      h5,
      h6                { font-weight: normal; margin: 0; word-spacing: -0.0833em; }
      h4,
      h5,
      h6                { font-weight: bold; }
      
      h1                { font-size: 3em;                           margin-top: 0.4167em;   margin-bottom: 0.4167em; }
      h2                { font-size: 2.5em;   line-height: 1.5;     margin-top: 0.5em;      margin-bottom: 0.5em; }
      h3                { font-size: 2em;     line-height: 1.25;    margin-top: 0.625em;    margin-bottom: 0.625em; }
      h4                { font-size: 1.2em;   line-height: 1.0417;  margin-top: 1.0417em; }
      h5                { font-size: 1.1em;   line-height: 1.1364;  margin-top: 1.1364em; }
      h6                { font-size: 1em;                           margin-top: 1.25em; }
      
      h1:first-child,
      h2:first-child,
      h3:first-child,
      h4:first-child,
      h5:first-child,
      h6:first-child    { margin-top: 0; }
      
      .test {
        margin: 0 0 1em 0;
        padding: 0 32px;
      }
      
      .swatch {
        width: 64px; height: 64px;
        float: left;
        overflow: hidden;
        -webkit-box-sizing: border-box;
        -moz-box-sizing:    border-box;
        box-sizing:         border-box;
      }
      
      .swatch>span {
        font-family: Arial;
        font-size: 639px;
        line-height: 0;
        position: relative;
        top: -158px;
        left: -58px;
        background-color: #666666;
      }
      
      .color-swatch,
      .bg-swatch {
        -webkit-box-shadow: 0 0 40px hsla(208, 6%, 25%, 0.6);
        -moz-box-shadow:    0 0 40px hsla(208, 6%, 25%, 0.6);
        box-shadow:         0 0 40px hsla(208, 6%, 25%, 0.6);
      }
      
      .border-swatch {
        width: 54px; height: 54px;
        margin-right: 8px;
        margin-bottom: 8px;
        background: white;
      }
      
      img {
        width: 64px;
        height: 64px;
      }
      
      a:hover, a:focus {
        text-decoration: underline;
      }
      a {
        color: #666666;
        text-decoration: none;
        outline: none;
      }
  </style>
</head>

<body>

  <div class="test clear">
    <h3>Colors</h3>
    <a href="#package=color_1" class="swatch color-swatch theme_color_1 webdoc_message"><span>.</span></a>
    <a href="#package=color_2" class="swatch color-swatch theme_color_2 webdoc_message"><span>.</span></a>
    <a href="#package=color_3" class="swatch color-swatch theme_color_3 webdoc_message"><span>.</span></a>
    <a href="#package=color_4" class="swatch color-swatch theme_color_4 webdoc_message"><span>.</span></a>
    <a href="#package=color_5" class="swatch color-swatch theme_color_5 webdoc_message"><span>.</span></a>
    <a href="#package=color_6" class="swatch color-swatch theme_color_6 webdoc_message"><span>.</span></a>
    <a href="#package=color_7" class="swatch color-swatch theme_color_7 webdoc_message"><span>.</span></a>
    <a href="#package=color_8" class="swatch color-swatch theme_color_8 webdoc_message"><span>.</span></a>
    <a href="#package=color_9" class="swatch color-swatch theme_color_9 webdoc_message"><span>.</span></a>
    <a href="#package=color_10" class="swatch color-swatch theme_color_10 webdoc_message"><span>.</span></a>
    <a href="#package=color_11" class="swatch color-swatch theme_color_11 webdoc_message"><span>.</span></a>
    <a href="#package=color_12" class="swatch color-swatch theme_color_12 webdoc_message"><span>.</span></a>
    <a href="#package=color_13" class="swatch color-swatch theme_color_13 webdoc_message"><span>.</span></a>
    <a href="#package=color_14" class="swatch color-swatch theme_color_14 webdoc_message"><span>.</span></a>
    
  </div>
  <div class="test">
    <a href="#" class="">remove</a>
  </div>
  <div class="test clear">
    <h3>Backgrounds</h3>
    <a href="#package=item_background_1"
      class="swatch bg-swatch theme_background_1 webdoc_message"></a>
    <!-- <a href="#package=item_background_2"
      class="swatch bg-swatch theme_background_2 webdoc_message"></a> -->
    <a href="#package=item_background_3"
      class="swatch bg-swatch theme_background_3 webdoc_message"></a>
    <a href="#package=item_background_4"
      class="swatch bg-swatch theme_background_4 webdoc_message"></a>
    <a href="#package=item_background_5"
      class="swatch bg-swatch theme_background_5 webdoc_message"></a>
    <a href="#package=item_background_6"
      class="swatch bg-swatch theme_background_6 webdoc_message"></a>
    <a href="#package=item_background_7"
      class="swatch bg-swatch theme_background_7 webdoc_message"></a>
    <a href="#package=item_background_8"
      class="swatch bg-swatch theme_background_8 webdoc_message"></a>
  </div>
  <!-- <div class="test">
    <a href="#" class="">remove</a>
  </div> -->
  <div class="test">
    <h3>Borders</h3>
    <a href="#package=border_1"
      class="swatch border-swatch theme_border_1 webdoc_message"></a>
    <a href="#package=border_2"
      class="swatch border-swatch theme_border_2 webdoc_message"></a>
    <a href="#package=border_3"
      class="swatch border-swatch theme_border_3 webdoc_message"></a>
    <a href="#package=border_4"
      class="swatch border-swatch theme_border_4 webdoc_message"></a>
    <a href="#package=border_5"
      class="swatch border-swatch theme_border_5 webdoc_message"></a>
    <a href="#package=border_6"
      class="swatch border-swatch theme_border_6 webdoc_message"></a>
    <a href="#package=border_7"
      class="swatch border-swatch theme_border_7 webdoc_message"></a>
    <a href="#package=border_8"
      class="swatch border-swatch theme_border_8 webdoc_message"></a>
    <a href="#package=border_9"
      class="swatch border-swatch theme_border_9 webdoc_message"></a>
  </div>
  <div class="test clear">
    <h3>Page Backgrounds</h3>
    <a href="#package=page_background_1"
      class="swatch bg-swatch theme_background_1 webdoc_message"></a>
    <a href="#package=page_background_2"
      class="swatch bg-swatch theme_background_2 webdoc_message"></a>
    <a href="#package=page_background_3"
      class="swatch bg-swatch theme_background_3 webdoc_message"></a>
    <a href="#package=page_background_4"
      class="swatch bg-swatch theme_background_4 webdoc_message"></a>
    <a href="#package=page_background_5"
      class="swatch bg-swatch theme_background_5 webdoc_message"></a>
    <a href="#package=page_background_6"
      class="swatch bg-swatch theme_background_6 webdoc_message"></a>
    <a href="#package=page_background_7"
      class="swatch bg-swatch theme_background_7 webdoc_message"></a>
    <a href="#package=page_background_8"
      class="swatch bg-swatch theme_background_8 webdoc_message"></a>
  </div>
  
  <div class="test clear">
    <h3>Images</h3>
    <a href='#images/homer.jpg' class='image_draggable'>
      <img src='images/homer_thumb.jpg' />
    </a>
  </div>
  
  <div class="test clear">
    <h3>stickies</h3>
    <img src='stickies/banane-salut.gif' />
  </div>
  
  <div class="test clear">
    <h3>Videos</h3>
    <a href='http://www.youtube.com/watch?v=GQ-KVnYVzrQ' class='video_draggable'>
      <img src='http://i4.ytimg.com/vi/GQ-KVnYVzrQ/default.jpg' />
    </a>
  </div>
  
  <div class="test">
    <a href="#" class="">remove</a>
  </div>
  
  <!--script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script-->
  <script src="js/jquery-1.4.2.js"></script>
  <script src="js/jquery-json.js"></script>
  <script type="text/javascript">
    window.onload = function() {
      var webdoc = window.parent;
      
      var background = [
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( #ededed ), to( #c3c3c3 ));background-image: -moz-linear-gradient( -90deg, #ededed, #c3c3c3 );background-image: linear-gradient( -90deg, #ededed, #c3c3c3 );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( #ecf0dc ), to( #c8d2a6 ));background-image: -moz-linear-gradient( -90deg, #ecf0dc, #c8d2a6 );background-image: linear-gradient( -90deg, #ecf0dc, #c8d2a6 );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( #f2ecd7 ), to( #d1c8a5 ));background-image: -moz-linear-gradient( -90deg, #f2ecd7, #d1c8a5 );background-image: linear-gradient( -90deg, #f2ecd7, #d1c8a5 );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( #f2e5e0 ), to( #d4b1a5 ));background-image: -moz-linear-gradient( -90deg, #f2e5e0, #d4b1a5 );background-image: linear-gradient( -90deg, #f2e5e0, #d4b1a5 );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( #f5e7ea ), to( #e2bec7 ));background-image: -moz-linear-gradient( -90deg, #f5e7ea, #e2bec7 );background-image: linear-gradient( -90deg, #f5e7ea, #e2bec7 );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( #e2eff0 ), to( #9ecdd2 ));background-image: -moz-linear-gradient( -90deg, #e2eff0, #9ecdd2 );background-image: linear-gradient( -90deg, #e2eff0, #9ecdd2 );',
        'background-image: -webkit-gradient( linear, 0% 0%, 0% 100%, from( #e5efed ), to( #abd7d0 ));background-image: -moz-linear-gradient( -90deg, #e5efed, #abd7d0 );background-image: linear-gradient( -90deg, #e5efed, #abd7d0 );',
        'background-color: white;'
      ];
      
      var package = {
        color_1: { target : 'item',
                   scope: 'color', 
                   style: 'color:black;'},
        color_2: { target : 'item',
                   scope: 'color', 
                   style: 'color:#92b322;'},
        color_3: { target : 'item',
                   scope: 'color', 
                   style: 'color:#ccf245;'},
        color_4: { target : 'item',
                   scope: 'color', 
                   style: 'color:#b39322;'},
        color_5: { target : 'item',
                   scope: 'color', 
                   style: 'color:#ffd200;'},
        color_6: { target : 'item',
                   scope: 'color', 
                   style: 'color:#ff5400;'},
        color_7: { target : 'item',
                   scope: 'color', 
                   style: 'color:#c33200;'},
        color_8: { target : 'item',
                   scope: 'color', 
                   style: 'color:#f20951;'},
        color_9: { target : 'item',
                   scope: 'color', 
                   style: 'color:#b32248;'},
        color_10: { target : 'item',
                   scope: 'color', 
                   style: 'color:#22a4b3;'},
        color_11: { target : 'item',
                    scope: 'color', 
                    style: 'color:#00dce4;'},
        color_12: { target : 'item',
                    scope: 'color', 
                    style: 'color:#009982;'},
        color_13: { target : 'item',
                    scope: 'color', 
                    style: 'color:#43e4cb;'},
        color_14: { target : 'item',
                    scope: 'color', 
                    style: 'color:white;'},
                    
        border_1: { target : 'item',
                     scope: 'border', 
                     style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;-webkit-box-shadow: 0 0 32px hsla(208, 6%, 25%, 0.6);-moz-box-shadow:    0 0 32px hsla(208, 6%, 25%, 0.6);box-shadow: 0 0 32px hsla(208, 6%, 25%, 0.6);border-color: hsla(208, 6%, 25%, 0.6);'},
        border_2: { target : 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:#92b322;-webkit-box-shadow: 0 0 32px #92b322;-moz-box-shadow:    0 0 32px #92b322;box-shadow: 0 0 32px #92b322;'},
        border_3: { target : 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:#b39322;-webkit-box-shadow: 0 0 32px #b39322;-moz-box-shadow:    0 0 32px #b39322;box-shadow:  0 0 32px #b39322;'},
        border_4: { target : 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:#c33200;-webkit-box-shadow: 0 0 32px #c33200;-moz-box-shadow:    0 0 32px #c33200;box-shadow: 0 0 32px #c33200;'},
        border_5: { target : 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:#b32248;-webkit-box-shadow: 0 0 32px #b32248;-moz-box-shadow:    0 0 32px #b32248;box-shadow: 0 0 32px #b32248;'},
        border_6: { target : 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:#22a4b3;-webkit-box-shadow: 0 0 32px #22a4b3;-moz-box-shadow:    0 0 32px #22a4b3;box-shadow:0 0 32px #22a4b3;'},
        border_7: { target : 'item',
                    scope: 'border',
                    style: '-webkit-border-radius: 0.6em;-moz-border-radius: 0.6em;border-radius: 0.6em;border-width: 3px;border-style: solid;padding: 1em;border-color:#009982;-webkit-box-shadow: 0 0 32px #009982;-moz-box-shadow: 0 0 32px #009982;box-shadow:  0 0 32px #009982;'},
        border_8: { target : 'item',
                    scope: 'border',
                    style: "-webkit-border-image: url('../images/border_speechbubble_1.png') 24 24 64 64 stretch stretch;-moz-border-image:url('../images/border_speechbubble_1.png') 24 24 64 64 stretch stretch;border-image:url('../images/border_speechbubble_1.png') 24 24 64 64 stretch stretch;border-top-width: 24px;border-right-width: 24px;border-bottom-width: 64px;border-left-width: 64px;"},
        border_9: { target : 'item',
                    scope: 'border',
                    style: "-webkit-border-image: url('../images/border_speechbubble_2.png') 24 64 64 24 stretch stretch;-moz-border-image: url('../images/border_speechbubble_2.png') 24 64 64 24 stretch stretch;border-image:         url('../images/border_speechbubble_2.png') 24 64 64 24 stretch stretch;border-top-width: 24px;border-right-width: 64px;border-bottom-width: 64px;border-left-width: 24px;"},
                    
        item_background_1: { target: 'item',
                             scope: 'background',
                             style: background[0] },
        item_background_2: { target: 'item',
                             scope: 'background',
                             style: background[1]},
        item_background_3: { target: 'item',
                             scope: 'background',
                             style: background[2]},
        item_background_4: { target: 'item',
                             scope: 'background',
                             style: background[3]},
        item_background_5: { target: 'item',
                             scope: 'background',
                             style: background[4]},
        item_background_6: { target: 'item',
                             scope: 'background',
                             style: background[5]},
        item_background_7: { target: 'item',
                             scope: 'background',
                             style: background[6]},
        item_background_8: { target: 'item',
                             scope: 'background',
                             style: background[7]},
                             
        page_background_1: { target: 'page',
                             scope: 'background',
                             style: background[0] },
        page_background_2: { target: 'page',
                             scope: 'background',
                             style: background[1] },
        page_background_3: { target: 'page',
                             scope: 'background',
                             style: background[2] },
        page_background_4: { target: 'page',
                             scope: 'background',
                             style: background[3] },
        page_background_5: { target: 'page',
                             scope: 'background',
                             style: background[4] },
        page_background_6: { target: 'page',
                             scope: 'background',
                             style: background[5] },
        page_background_7: { target: 'page',
                             scope: 'background',
                             style: background[6] },
        page_background_8: { target: 'page',
                             scope: 'background',
                             style: background[7] },
      };
      var style = '';
      var package_select = '';
      
      var links = document.getElementsByTagName("a");
      for(i=0;i<links.length;i++) {
        if( /webdoc_message/.test( links[i].getAttribute('class') ) ) {
          links[i].onclick = function(event) {
            package_select = event.currentTarget.getAttribute('href');
            package_select = package_select.slice(9, package_select.length);
            webdoc.postMessage(buildStringMessage(package[package_select]), '*');
          };

        }
      }
      
      function buildStringMessage(style_object){
        var style_string = '#';
        //target, item or page
        if(style_object.target == 'item'){
          style_string += 'set_item_style?';
        }
        else{
          style_string += 'set_page_style?'
        }
        //scope
        style_string += 'scope=' + style_object.scope + '&';
        //style
        style_string += 'style=' + encodeURI(style_object.style);
        return style_string;
      }
      
      $('.video_draggable').bind('click', function(event){
        event.preventDefault();
      });
      
      $('.image_draggable').bind('dragstart', imageDragStart);
      
      function imageDragStart(event) {      
        var draggingLink = $(event.target).parent().find('a');
        var imageUrl = draggingLink.attr('href');
        imageUrl = imageUrl.slice(1, imageUrl.length);
        
        var dt = event.originalEvent.dataTransfer;
        dt.setData("application/wd-image", $.toJSON({url:imageUrl,id:null}));
      }
    };
  </script>

</body>