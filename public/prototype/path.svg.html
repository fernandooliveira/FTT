<!DOCTYPE html>
<html>
<head>
	<title>path</title>
	<link href="../css/webcss/reset.css" media="all" rel="stylesheet" type="text/css"/>
	<link href="../css/webcss/column.css" media="all" rel="stylesheet" type="text/css"/>
	<link href="../css/webdoc/site.typography.css" media="all" rel="stylesheet" type="text/css"/>
	<style>
		body {
			padding: 24px;
			background: #eeeeee;
		}
		canvas {
			display: block;
		}
		canvas, svg, img {
			background: white;
		}
		h4 {
			margin-bottom: 1em;
		}
		p {
			margin-bottom: 1em;
		}
	</style>
</head>
<body>
	
	<!-- TEST -->
	
	<h2>path.toSVG()</h2>
	<p>Outputs an SVG &lt;path&gt; DOM element.</p>
	<div class="column of_three">
		<h4>expected result</h4>
		<img src="images/path.svg.png"/>
	</div
 ><div class="column of_three">
		<h4>canvas</h4>
		<canvas id="canvas"></canvas>
	</div
 ><div class="last column of_three">
		<h4>svg</h4>
		<!-- svg needs to go here!!!! -->
		
		
		
	</div>
	
	
<svg width="100%" height="100%" version="1.1"
xmlns="http://www.w3.org/2000/svg">

	<path d="M250 150 L150 350 L350 350 Z"></path>

</svg>
	
	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
	<script src="js/path.js" type="text/javascript"></script>
	<script src="js/canvas.js" type="text/javascript"></script>
	<script type="text/javascript">
		
		var fish = [
					{ type: 'moveTo', data: [30.3594,-96.3488] },
					{ type: 'bezierCurveTo', data: [26.6527,-101.2617,17.8764,-124.9885,27.029,-125.9897] },
					{ type: 'bezierCurveTo', data: [36.1836,-126.9896,53.6732,-111.2306,62.5806,-108.4843] },
					{ type: 'bezierCurveTo', data: [70.3954,-106.0771,71.7035,-106.1623,77.3249,-108.7413] },
					{ type: 'bezierCurveTo', data: [81.8894,-111.861,87.9481,-115.1201,95.9216,-118.0177] },
					{ type: 'bezierCurveTo', data: [87.2213,-130.9654,72.5996,-140.0277,79.8607,-142.1223] },
					{ type: 'bezierCurveTo', data: [85.9047,-143.8674,105.9004,-144.5731,126.8303,-143.4655] },
					{ type: 'bezierCurveTo', data: [156.5367,-141.8878,167.9714,-133.0488,173.0899,-122.7845] },
					{ type: 'bezierCurveTo', data: [203.0328,-113.8236,215.5792,-89.2298,214.9813,-84.2803] },
					{ type: 'bezierCurveTo', data: [214.7339,-82.2102,193.1553,-67.8775,158.6773,-67.1477] },
					{ type: 'bezierCurveTo', data: [153.6815,-56.9838,147.124,-44.4421,141.0484,-41.2755] },
					{ type: 'bezierCurveTo', data: [134.0091,-37.6023,129.848,-42.0207,127.236,-52.5928] },
					{ type: 'bezierCurveTo', data: [125.7526,-58.6031,127.0058,-63.5668,129.2014,-67.5517] },
					{ type: 'bezierCurveTo', data: [126.3252,-67.8592,123.5231,-68.2705,120.8012,-68.7689] },
					{ type: 'bezierCurveTo', data: [120.5329,-68.6695,120.2412,-68.5741,119.9241,-68.4786] },
					{ type: 'bezierCurveTo', data: [114.2121,-66.7466,88.0243,-66.6187,86.8811,-69.3467] },
					{ type: 'bezierCurveTo', data: [85.4503,-72.7619,84.9114,-76.8708,86.3358,-80.742] },
					{ type: 'bezierCurveTo', data: [84.8143,-81.5411,83.3646,-82.336,81.9868,-83.1269] },
					{ type: 'bezierCurveTo', data: [72.6122,-87.6204,70.6828,-87.0407,62.6249,-84.7138] },
					{ type: 'bezierCurveTo', data: [54.5227,-82.3778,36.6612,-58.0284,31.9867,-62.8846] },
					{ type: 'bezierCurveTo', data: [27.3142,-67.7384,29.5819,-85.584,30.3131,-89.3556] },
					{ type: 'bezierCurveTo', data: [31.0441,-93.1263,34.0639,-91.439,30.3594,-96.3488] }
				];
				
		var square = [
					{ type: 'moveTo', data: [0,0] },
					{ type: 'lineTo', data: [100,0] },
					{ type: 'lineTo', data: [200,100] },
					{ type: 'lineTo', data: [0,100] }
				];
		
		var fishPath = Path( fish );
		var svgPath = Path( jQuery('path')[0] );
		var squarePath = Path( square );
		
		function log(obj){
			i = -1, l = obj.length;
			
			console.log('{');
			
			// Loop through path instructions
			while( ++i < l ){
				console.log('  type:', obj[i].type, 'data:', obj[i].data);
			}
			
			console.log('}');
		}
		
		log( fishPath );//.displace(-250,-250).spherize(100,200).displace(-250,-250) );
		console.log( fishPath.mean() );
		console.log( fishPath.limits() );
		console.log( fishPath.range() );
		console.log( fishPath.centre() );
		
		var c = fishPath.centre();
		var r = fishPath.displace( -c[0], -c[1] ).limits();
		
		// Draw the path to canvas ------------------------------
		
		var canvas = Canvas( 256, 256, jQuery('#canvas')[0] );
		
		canvas
		.clear()
		.translate(128, 128)
		.style({
			fillStyle: "transparent",
			strokeStyle: "rgb(150,50,50)",
			lineWidth: 2
		})
		.begin()
<<<<<<< HEAD
		.plot( fishPath.displace(30,10) )
=======
		.plot(
			fishPath.displace( -c[0], -c[1] )
		)
		.close()
		.stroke()
		.style({
			fillStyle: "transparent",
			strokeStyle: "rgb(50,150,50)",
			lineWidth: 1
		})
		.begin()
		.plot([
			{ type: 'moveTo', data: [ r[0], r[1] ] },
			{ type: 'lineTo', data: [ r[2], r[1] ] },
			{ type: 'lineTo', data: [ r[2], r[3] ] },
			{ type: 'lineTo', data: [ r[0], r[3] ] }
		])
>>>>>>> 5188d108071913325a8ba54d94bada183e69ae1f
		.close()
		.stroke();
		
		
		// Draw the path to SVG ---------------------------------
		
		
		
	</script>
</body>
</html> 