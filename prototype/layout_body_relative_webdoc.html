<!DOCTYPE html>
<html>
<head>
  <style>
    html, body {
      height: 100%;
    }
    
    body {
      background: orange;
      /* Top padding makes room for the top bar, while
         right padding makes room for the editor side bar */
      padding: 64px 320px 0 0;
      margin: 0;
      
      -webkit-box-sizing: border-box;
      -moz-box-sizing:    border-box;
      box-sizing:         border-box;
      
      -webkit-transition: padding-top 0.33s linear, padding-right 0.33s linear;
      -moz-transition:    padding-top 0.33s linear, padding-right 0.33s linear;
      transition:         padding-top 0.33s linear, padding-right 0.33s linear;
    }
    
    .absolute {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 36px;
      background: white;
    }
    
    .relative {
      position: relative;
      height: 466px; width: 80%;
      min-height: 40%;
      margin: 0 auto 2em auto;
      background: yellow;
      
      /* Transitions can't go from % to length values. Boo, rubbish.
         We have to use a combination of height and min-height to get
         this to work. */
      -webkit-transition: width 0.33s linear, height 0.33s linear, min-height 0.33s linear, margin-bottom 0.33s linear;
      -moz-transition:    width 0.33s linear, height 0.33s linear, min-height 0.33s linear, margin-bottom 0.33s linear;
      transition:         width 0.33s linear, height 0.33s linear, min-height 0.33s linear, margin-bottom 0.33s linear;
    }
    
    .content {
      height: auto;
      width: 80%;
      margin: 0 auto;
      background: yellow;
    }
    
    .full_mode .content {
      display: none;
    }
    
    body.full_mode {
      padding-top: 36px;
      padding-right: 0;
      overflow: hidden;
    }
    
    .full_mode .relative {
      height: 466px; width: 100%;
      min-height: 100%;
      margin-bottom: 0;
    }
    
    h1 {
      height: 2em;
      margin: 0;
      
      -webkit-transition: height 0.33s linear;
      -moz-transition:    height 0.33s linear;
      transition:         height 0.33s linear;
    }

    .full_mode h1 {
      height: 0;
    }
    
    .sidebar {
      position: absolute;
      right: 0;
      top: 0;
      margin-right: -320px;
      width: 320px;
      background: red;
      height: 1000px;
      min-height: 100%;
      
      -webkit-transition: height 0.33s linear;
      -moz-transition:    height 0.33s linear;
      transition:         height 0.33s linear;
    }
    
    .full_mode .sidebar {
      height: 0;
    }
  </style>
</head>
<body class="">
  
  <h1>Title</h1>
  
  <div class="relative">
    webdoc
    <div class="sidebar">
      sidebar
    </div>
  </div>
  
  <div class="content">
    Content
    <a href="#full">full</a>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
    content<br/>
  </div>
  
  <div class="absolute">
    Absolute
  </div>
  
  <script src="../public/javascripts/jquery-1.4.2.js" type="text/javascript"></script>
  <script type="text/javascript">
    jQuery(document).ready(function(){
      
      jQuery('a[href=#full]')
      .toggle(function(e){
        
        jQuery('body').addClass('full_mode');
        e.preventDefault();
        
      }, function(e){
        
        jQuery('body').removeClass('full_mode');
        e.preventDefault();
        
      });
      
    });
  </script>
</body>
</html> 