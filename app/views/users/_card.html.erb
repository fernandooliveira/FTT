<div class="card" data-webdoc-user-id="<%= user.id %>">
  <% if user.mutual_connection(current_user) %>
    <div class="wd-user-item-mutual" ></div>
  <% end %>
  <h5 class="card-name card-name-avoid-button">
    <a href='/users/<%= user.uuid %>'>
      <%= "#{user.first_name} #{user.last_name}" %>
    </a>
  </h5>
  	<a class="thumb" href="/users/<%= user.uuid %>" style="background-image: url('<%= user.avatar.url(:thumb) %>');"></a>

<!--  <p class="card_bio"><%= "#{user.bio}" %></p> -->
  <div class=""><%= "#{user.documents.length}" %> webdoc<% if user.documents.length > 1 %>s<% end %></div>
  <div class=""><%= "#{user.friends_count}" %> friend<% if user.friends_count > 1 %>s<% end %></div>
  
  <% if local_assigns.has_key? :friendship %>
    <% if current_user.friend?(user)%>
    <a class="cancel_friendship_button button red small" href="#cancel_friendship">Revoke</a>
    <% elsif current_user.pending_requested_friend?(user)%>
      <div id='friend_request_<%=user.id%>'>
        <a class="accept_friend_button button green small" href="#accept_friend_request">Accept</a>
        <a class="reject_friend_button button red small" href="#reject_friend_request">Reject</a>
      </div>
    <% elsif current_user.requested_friend?(user)%>
      <a class="cancel_request_button button orange small" href="#cancel_friend_request">Cancel</a>
    <% elsif current_user.blocked_friend?(user)%>
     <p>You have blocked <%= user.username %> </p>
     <% else %>

       <a class="become_friend_button button green small" href="#become_friend">Become Friend</a>

    <% end %>
  <% end %>
  
  <!-- The following is used for the follower paradigm
  <% if local_assigns.has_key? :subscribed %>
    <a class="subscribe-button button" href="#<% if subscribed %>un<% end %>subscribe"><% if subscribed %>unfollow<% else %>follow<% end %></a>
  <% end %> -->
</div>

<%#
name: user.name
mail: user.email
username: user.username
avatar: user.avatar.url(:thumb)
bio: user.bio
gender : user.gender
website: user.website
friends count: user.friends_count (in friends branch )
documents count: user.documents_count
%>
